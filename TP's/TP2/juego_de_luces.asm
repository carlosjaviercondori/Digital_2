#include "p16f887.inc"
 __CONFIG _CONFIG1, _FOSC_XT & _WDTE_OFF & _PWRTE_ON & _MCLRE_ON & _CP_OFF & _CPD_OFF & _BOREN_ON & _IESO_OFF & _FCMEN_OFF & _LVP_OFF
 __CONFIG _CONFIG2, _BOR4V_BOR40V & _WRT_OFF

contador EQU 0x20   ; posicion de memoria general del primer banco
contador2 EQU 0x21
idx EQU 0x22

ORG 0x00
MOVLW   HIGH(MainApplication)	;esto me lo pidio el flasher pora no romper el bootloader
MOVWF   PCLATH
GOTO    MainApplication	

delay10ms:
    MOVLW   .8
    MOVWF   contador      ; bucle medio: 10 veces

L1:
    MOVLW   .250
    MOVWF   contador2      ; bucle interno: 250 veces

L2:
    NOP
    DECFSZ  contador2, f
    GOTO    L2

    DECFSZ  contador, f
    GOTO    L1
    RETURN

TABLA_LEDS:
    ADDWF PCL, F
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'01000000'
RETLW B'01000000'
RETLW B'11000000'
RETLW B'01000000'
RETLW B'01000000'
RETLW B'01000000'
RETLW B'11000000'
RETLW B'01000000'
RETLW B'01000000'
RETLW B'01000000'
RETLW B'00100000'
RETLW B'00100000'
RETLW B'01100000'
RETLW B'00100000'
RETLW B'10100000'
RETLW B'00100000'
RETLW B'00100000'
RETLW B'01100000'
RETLW B'00100000'
RETLW B'00100000'
RETLW B'00010000'
RETLW B'00110000'
RETLW B'00010000'
RETLW B'00010000'
RETLW B'01010000'
RETLW B'00010000'
RETLW B'00010000'
RETLW B'00110000'
RETLW B'00010000'
RETLW B'00010000'
RETLW B'00001000'
RETLW B'00011000'
RETLW B'00001000'
RETLW B'00001000'
RETLW B'00001000'
RETLW B'00101000'
RETLW B'00001000'
RETLW B'00001000'
RETLW B'00011000'
RETLW B'00001000'
RETLW B'00000100'
RETLW B'00000100'
RETLW B'00000100'
RETLW B'00001100'
RETLW B'00000100'
RETLW B'00010100'
RETLW B'00000100'
RETLW B'00000100'
RETLW B'00001100'
RETLW B'00000100'
RETLW B'00000010'
RETLW B'00000110'
RETLW B'00000010'
RETLW B'00000010'
RETLW B'00001010'
RETLW B'00000010'
RETLW B'00000010'
RETLW B'00000110'
RETLW B'00000010'
RETLW B'00000010'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000011'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000101'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000011'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000011'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000001'
RETLW B'00000010'
RETLW B'00000010'
RETLW B'00000011'
RETLW B'00000010'
RETLW B'00000010'
RETLW B'00000010'
RETLW B'00000011'
RETLW B'00000010'
RETLW B'00000010'
RETLW B'00000010'
RETLW B'00000100'
RETLW B'00000110'
RETLW B'00000100'
RETLW B'00000100'
RETLW B'00000101'
RETLW B'00000100'
RETLW B'00000100'
RETLW B'00000110'
RETLW B'00000100'
RETLW B'00000100'
RETLW B'00001000'
RETLW B'00001100'
RETLW B'00001000'
RETLW B'00001000'
RETLW B'00001000'
RETLW B'00001010'
RETLW B'00001000'
RETLW B'00001000'
RETLW B'00001100'
RETLW B'00001000'
RETLW B'00010000'
RETLW B'00011000'
RETLW B'00010000'
RETLW B'00010000'
RETLW B'00010100'
RETLW B'00010000'
RETLW B'00010000'
RETLW B'00010000'
RETLW B'00011000'
RETLW B'00010000'
RETLW B'00100000'
RETLW B'00110000'
RETLW B'00100000'
RETLW B'00100000'
RETLW B'00100000'
RETLW B'00101000'
RETLW B'00100000'
RETLW B'00100000'
RETLW B'00110000'
RETLW B'00100000'
RETLW B'01000000'
RETLW B'01100000'
RETLW B'01000000'
RETLW B'01000000'
RETLW B'01010000'
RETLW B'01000000'
RETLW B'01000000'
RETLW B'01000000'
RETLW B'01100000'
RETLW B'01000000'
RETLW B'10000000'
RETLW B'11000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10100000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'11000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'11000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'
RETLW B'10000000'


MainApplication: 
BCF STATUS, RP1 ;selecciono banco rp1 en cero
BSF STATUS, RP0	;selecciono banco 1 con el 01
CLRF TRISD  ;pongo el pin rd en salida  
BCF STATUS, RP0 ;vuelvo al banco cero porque necesito usar el registro PORTD
CLRF PORTD
CLRF idx
    
INICIO: 
    MOVF idx, W
    CALL TABLA_LEDS
    MOVWF PORTD

    CALL delay10ms

    INCF idx, F
    MOVLW .192
    XORWF   idx, W              ; W = IDX ^ 14
    BTFSS   STATUS, Z           ; ¿IDX == 14?
    GOTO    INICIO
    CLRF    idx                  ; si llegó a 14, volver a 0
    GOTO    INICIO

END